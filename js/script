window.onload = function() {
	window.addEventListener('keydown', function(e) {
		console.log(e.keyCode);
		const key = document.querySelector(`div[data-key="${e.keyCode}"]`);
		const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
		if(audio === null) return;
		audio.play();
		key.classList.add('pressed'); //add a class needed for transition
		console.log(audio.duration);
		if (audio.currentTime > audio.duration - 0.1) { //don't repeat sound when key is pressed
			audio.volume = 0;
		}
	});

	window.addEventListener('keyup', function(e) {
		const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
		const key = document.querySelector(`div[data-key="${e.keyCode}"]`);
		if(audio === null) return;
		audio.volume = 1;
		audio.pause();
		audio.currentTime = 0;
		key.className = key.className.replace('pressed', ''); //remove a class needed for transition
	});
};
